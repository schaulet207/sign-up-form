<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--=============== JS ===============-->
    <script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
        
    <!--=============== PHONE MASK ===============-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/inputmask/4.0.8/jquery.inputmask.bundle.min.js"></script>

    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&family=Outfit:wght@900&display=swap" rel="stylesheet">
    <script src="signupform.js" defer></script>
    <title>Sign-up Form</title>
</head>
<body>
    <div class="container">
        <div class="left">
            <div class="logo">
                <img src="./img/odin.jpg" alt="logo" class="logito">
                <h1 class="ShannonC">Sona</h1>
            </div>
            <div class="credit-block">
                <h1 class="credit"><b>Photo generated by <a style="color: white" href="https://stablediffusionweb.com/#demo" target="_blank">Stable Diffusion</a></b></h1>
            </div>
        </div>
        <div class="right">
            <div class="info">
                <h2>This is not a real online service! Lorem ipsum dolor sit amet consectetur, adipisicing elit. Necessitatibus, commodi!
            <br>Sign up now to get started.<br><br>
            You <i>know</i> you want to.
                </h2>
                <br><br><br>
            <h1>Let's do this!</h1>
            <form name="RegForm" action="example.com/path" method="post">
                <div class="form-fields">
                    <div class="form-left">
                        <div>
                            <label for="first_name">FIRST NAME</label><br>
                            <input id="first_name" name="first_name" type="text" required />
                            <span></span>
                        </div>
                        <div>
                            <label for="user_email">EMAIL</label><br>
                            <input type="email" id="user_email" name="email" placeholder="you@example.com" required>
                        </div>
                        <div>
                            <label for="user_password">PASSWORD</label><br>
                            <input type="password" id="user_password" name="password" pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$" required>
                        </div>
                    </div>
                    <div class="form-right">
                        <div>
                            <label for="last_name">LAST NAME</label><br>
                            <input type="text" name="last_name" id="last_name" value="" maxlength="30" required>
                        </div>
                        <!-- <div>
                            <label for="phone_number">PHONE NUMBER</label><br>
                            <input type="text" id="phone_number" name="phone_number" value="" placeholder="e.g. (999) 999-9999" required>
                        </div> -->
                        <div class="phoneThings">
                            <div>
                                <label for="donorPhone">PHONE</label>
                            </div>
                            <div class="user-login-input-wrap fl-wrap">
                                <input id="donorPhone" autocomplete="on" type="tel" inputmode="tel" name="donorPhone" />
                                <input id="phone" type="hidden" name="phone_number" value="" />
                            </div>

                            <script>
                                $(function () {
                        
                        
                                /*
                                * International Telephone Input v16.0.0
                                * https://github.com/jackocnr/intl-tel-input.git
                                * Licensed under the MIT license
                                */
                                var input = document.querySelectorAll("input[name=donorPhone]");
                                var iti_el = $('.iti.iti--allow-dropdown.iti--separate-dial-code');
                                if(iti_el.length){
                                    iti.destroy();
                                    
                                    // Get the current number in the given format
                        
                                    
                        
                                }
                                for(var i = 0; i < input.length; i++){
                                    iti = intlTelInput(input[i], {
                                        autoHideDialCode: false,
                                        autoPlaceholder: "aggressive" ,
                                        initialCountry: "us",
                                        separateDialCode: true,
                                        preferredCountries: ['us'],
                                        customPlaceholder:function(selectedCountryPlaceholder,selectedCountryData){
                                            return ''+selectedCountryPlaceholder.replace(/[0-9]/g,'X');
                                        },
                                        geoIpLookup: function(callback) {
                                            $.get('https://ipinfo.io', function() {}, "jsonp").always(function(resp) {
                                            var countryCode = (resp && resp.country) ? resp.country : "";
                                            callback(countryCode);
                                        });
                                        },
                                        utilsScript: "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js" // just for 
                                });
                        
                                    
                                $('input[name="donorPhone"]').on("focus click countrychange", function(e, countryData) {
                        
                                    var pl = $(this).attr('placeholder') + '';
                                    var res = pl.replace( /X/g ,'9');
                                    if(res != 'undefined'){
                                        $(this).inputmask(res, {placeholder: "X", clearMaskOnLostFocus: true});
                                    }
                                    
                                    
                        
                        
                                });
                                    
                                    $('input[name="donorPhone"]').on("focusout", function(e, countryData) {
                                        var intlNumber = iti.getNumber();
                                        document.getElementById("phone").value = intlNumber;   
                                    });
                                    
                            }
                        
                        const info = document.querySelector(".alert-info");
                        
                        function process(event) {
                        event.preventDefault();
                        
                        const phoneNumber = phoneInput.getNumber();
                        
                        info.style.display = "";
                        info.innerHTML = `Phone number in E.164 format: <strong>${phoneNumber}</strong>`;
                        }
                        })
                        </script>
                    </div>
            
                        <div>
                            <label for="user_password">CONFIRM PASSWORD</label><br>
                            <input type="password" id="confirm_user_password" name="confirmPassword" required>
                        </div>
                    </div>
                    </form> 
                </div>
                <div class="error" id="error">
                    <p>Passwords do not match</p> <img src="./img/error.jpg" alt="error" width=10px; heigh=10px;>
                </div>
                <div class="error2" id="error2">
                    <p> Please enter a Password</p> <img src="./img/error.jpg" alt="error" width=10px; heigh=10px;>
                </div>
                <div class="correct" id="correct">
                    <p>Password confirmed âœ”</p>
                </div>
                <br>
                <div class="submit-button"><button type="submit">Create Account</button></div>
                <br>
                <div class="log-in"><p>Already a member? Click <a href="#">here</a> to login.</p></div>
            </div>

        </div>
    </div>
</body>
</html>